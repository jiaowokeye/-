{"remainingRequest":"c:\\Users\\Administrator\\AppData\\Local\\Programs\\We码开发者工具\\resources\\app\\extensions\\wecode.wecode\\resources\\sdk\\node_modules.asar\\babel-loader\\lib\\index.js??ref--5-1!c:\\Users\\Administrator\\AppData\\Local\\Programs\\We码开发者工具\\resources\\app\\extensions\\wecode.wecode\\resources\\sdk\\node_modules.asar\\cache-loader\\dist\\cjs.js??ref--4-0!C:\\Users\\Administrator\\AppData\\Roaming\\WeCode-IDE\\wecode-eslint-config\\node_modules\\eslint-loader\\dist\\cjs.js??ref--4-1!c:\\Users\\Administrator\\Desktop\\模板\\模板\\src\\routes\\AddPlan\\index.js","dependencies":[{"path":"c:\\Users\\Administrator\\Desktop\\模板\\模板\\src\\routes\\AddPlan\\index.js","mtime":1595758146537},{"path":"c:\\Users\\Administrator\\AppData\\Local\\Programs\\We码开发者工具\\resources\\app\\extensions\\wecode.wecode\\resources\\sdk\\node_modules.asar\\cache-loader\\dist\\cjs.js","mtime":1595838103392},{"path":"c:\\Users\\Administrator\\AppData\\Local\\Programs\\We码开发者工具\\resources\\app\\extensions\\wecode.wecode\\resources\\sdk\\node_modules.asar\\babel-loader\\lib\\index.js","mtime":1595838103392},{"path":"c:\\Users\\Administrator\\AppData\\Local\\Programs\\We码开发者工具\\resources\\app\\extensions\\wecode.wecode\\resources\\sdk\\node_modules.asar\\cache-loader\\dist\\cjs.js","mtime":1595838103392},{"path":"C:\\Users\\Administrator\\AppData\\Roaming\\WeCode-IDE\\wecode-eslint-config\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":1593236802109}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsgLy8gaW1wb3J0ICogYXMgY3NzIGZyb20gJy4vaW5kZXgubW9kdWxlLmNzcyc7CgppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCB7IExpc3QsIERhdGVQaWNrZXIgfSBmcm9tICdhbnRkLW1vYmlsZSc7CmltcG9ydCB7IGFkZFBsYW4gfSBmcm9tICcuLy4uLy4uL3NlcnZlcnMvY29tcCc7CnZhciBJdGVtID0gTGlzdC5JdGVtOwoKZnVuY3Rpb24gQWRkUGxhbihwcm9wcykgewogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh7CiAgICBkYXRlOiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwKICAgIGNob29zZVVzZXI6IG51bGwsCiAgICBjaG9vc2VDdXN0b21lcjogW10KICB9KSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGFkZFBsYW5EYXRhID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0QWRkUGxhbkRhdGEgPSBfdXNlU3RhdGUyWzFdOwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgSFdINS5uYXZUaXRsZSh7CiAgICAgIHRpdGxlOiAn5Yi25a6a6K6h5YiSJwogICAgfSk7CiAgICB2YXIgbmV3YWRkUGxhbkRhdGEgPSB3aW5kb3cuYWRkUGxhbkRhdGEgPyB3aW5kb3cuYWRkUGxhbkRhdGEgOiB7CiAgICAgIGRhdGU6IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICBjaG9vc2VVc2VyOiBudWxsLAogICAgICBjaG9vc2VDdXN0b21lcjogW10KICAgIH07CiAgICB2YXIgY2hvb3NlQ3VzdG9tZXJOZXcgPSBhZGRQbGFuRGF0YS5jaG9vc2VDdXN0b21lci5jb25jYXQod2luZG93LnBsYW5DaGVja2VkQ3VzID8gd2luZG93LnBsYW5DaGVja2VkQ3VzIDogW10pOwoKICAgIGlmICh3aW5kb3cudmlzaXRPYmopIHsKICAgICAgY2hvb3NlQ3VzdG9tZXJOZXcucHVzaCh3aW5kb3cudmlzaXRPYmopOwogICAgfQoKICAgIHNldEFkZFBsYW5EYXRhKF9vYmplY3RTcHJlYWQoe30sIG5ld2FkZFBsYW5EYXRhLCB7CiAgICAgIGNob29zZVVzZXI6IHdpbmRvdy5jaG9vc2VVc2VyID8gd2luZG93LmNob29zZVVzZXIgOiBudWxsLAogICAgICBjaG9vc2VDdXN0b21lcjogY2hvb3NlQ3VzdG9tZXJOZXcgPyBjaG9vc2VDdXN0b21lck5ldyA6IFtdCiAgICB9KSk7CiAgfSwgW10pOwoKICBmdW5jdGlvbiBUb0Nob29zZVVzZXIoKSB7CiAgICB2YXIgaGlzdG9yeSA9IHByb3BzLmhpc3Rvcnk7CiAgICB3aW5kb3cuYWRkUGxhbkRhdGEgPSBhZGRQbGFuRGF0YTsKICAgIGhpc3RvcnkucHVzaCh7CiAgICAgIHBhdGhuYW1lOiAnL2Nob29zZVVzZXIvJwogICAgfSk7CiAgfSAvLyDot7PovazpgInlrqLmiLcKCgogIGZ1bmN0aW9uIHNlbGVjdEN1c3RvbWVyKCkgewogICAgd2luZG93LnZpc2l0T2JqID0ge307CiAgICB2YXIgaGlzdG9yeSA9IHByb3BzLmhpc3Rvcnk7CiAgICB3aW5kb3cuYWRkUGxhbkRhdGEgPSBhZGRQbGFuRGF0YTsKICAgIHdpbmRvdy5wbGFuQ2hlY2tlZEN1cyA9IGFkZFBsYW5EYXRhLmNob29zZUN1c3RvbWVyOyAvL+i3s+i9rOWGhemDqOmhtemdouW5tuS8oOWAvAoKICAgIGhpc3RvcnkucHVzaCh7CiAgICAgIHBhdGhuYW1lOiAnL3NlbGVjdEN1c3RvbWVyLycKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYWRkUGxhblJlcXVlc3QoKSB7CiAgICB2YXIgcGxhbkRlc2NJbmZvID0gW107CiAgICBhZGRQbGFuRGF0YS5jaG9vc2VDdXN0b21lci5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcGxhbkRlc2NJbmZvLnB1c2goewogICAgICAgICJjdXN0b21lcl9pZCI6IGUuY3VzdG9tZXJfaWQsCiAgICAgICAgInRhcmdldF9kZXNjIjogIiIsCiAgICAgICAgIml0ZW1faWQiOiAiIiwKICAgICAgICAicmVsYXRlZF91c2VyaWRzIjogIiIsCiAgICAgICAgInBsYW5faWQiOiAiIiwKICAgICAgICAiY3NfbG9jYXRpb25faWQiOiBlLmNzX2xvY2F0aW9uX2lkCiAgICAgIH0pOwogICAgICByZXR1cm4gJyc7CiAgICB9KTsKICAgIGFkZFBsYW4oewogICAgICBwbGFuX2RhdGU6IGFkZFBsYW5EYXRhLmRhdGUsCiAgICAgIHBsYW5EZXNjSW5mbzogSlNPTi5zdHJpbmdpZnkocGxhbkRlc2NJbmZvKQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0xKTsKICAgIH0pOwogIH0KCiAgY29uc29sZS5sb2coYWRkUGxhbkRhdGEuZGF0ZSk7CiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdCwgewogICAgY2xhc3NOYW1lOiAibXktbGlzdCIKICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KERhdGVQaWNrZXIsIHsKICAgIHZhbHVlOiBuZXcgRGF0ZShhZGRQbGFuRGF0YS5kYXRlKSwKICAgIG1vZGU6ICJkYXRlIiwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShkYXRlU3RyKSB7CiAgICAgIHJldHVybiBzZXRBZGRQbGFuRGF0YShfb2JqZWN0U3ByZWFkKHt9LCBhZGRQbGFuRGF0YSwge30sIHsKICAgICAgICBkYXRlOiBtb21lbnQoZGF0ZVN0cikuZm9ybWF0KCdZWVlZLU1NLUREJykKICAgICAgfSkpOwogICAgfQogIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSXRlbSwgewogICAgZXh0cmE6IGFkZFBsYW5EYXRhLmRhdGUKICB9LCAiXHU1MUZBXHU1MkU0XHU2NUU1XHU2NzFGIikpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEl0ZW0sIHsKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHJldHVybiBUb0Nob29zZVVzZXIoKTsKICAgIH0sCiAgICBleHRyYTogYWRkUGxhbkRhdGEuY2hvb3NlVXNlciA/IGFkZFBsYW5EYXRhLmNob29zZVVzZXIubmFtZSA6ICcnCiAgfSwgIlx1OTAwOVx1NjJFOVx1NEVCQVx1NTQ1OCIpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEl0ZW0sIHsKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHJldHVybiBzZWxlY3RDdXN0b21lcigpOwogICAgfQogIH0sICJcdTUxRkFcdTUyRTRcdTVCRjlcdThDNjEiKSksIGFkZFBsYW5EYXRhLmNob29zZUN1c3RvbWVyLm1hcChmdW5jdGlvbiAoZSwgaSkgewogICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAga2V5OiBpCiAgICB9LCBlLmN1c3RvbWVyX25hbWUgPyBlLmN1c3RvbWVyX25hbWUgOiAnJyk7CiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImEiLCB7CiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICByZXR1cm4gYWRkUGxhblJlcXVlc3QoKTsKICAgIH0sCiAgICBjbGFzczogIndldWktYnRuIHdldWktYnRuX3ByaW1hcnkiCiAgfSwgIlx1Nzg2RVx1NUI5QSIpKTsKfQoKZXhwb3J0IGRlZmF1bHQgQWRkUGxhbjs="},{"version":3,"sources":["c:\\Users\\Administrator\\Desktop\\模板\\模板\\src\\routes\\AddPlan\\index.js"],"names":["React","useEffect","useState","moment","List","DatePicker","addPlan","Item","AddPlan","props","date","format","chooseUser","chooseCustomer","addPlanData","setAddPlanData","HWH5","navTitle","title","newaddPlanData","window","chooseCustomerNew","concat","planCheckedCus","visitObj","push","ToChooseUser","history","pathname","selectCustomer","addPlanRequest","planDescInfo","map","e","customer_id","cs_location_id","plan_date","JSON","stringify","then","res","go","console","log","Date","dateStr","name","i","customer_name"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CACA;;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,aAAjC;AACA,SAAQC,OAAR,QAAsB,sBAAtB;AACA,IAAMC,IAAI,GAAGH,IAAI,CAACG,IAAlB;;AACA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAAA,kBACiBP,QAAQ,CAAC;AAC1CQ,IAAAA,IAAI,EAACP,MAAM,GAAGQ,MAAT,CAAgB,YAAhB,CADqC;AAE1CC,IAAAA,UAAU,EAAC,IAF+B;AAG1CC,IAAAA,cAAc,EAAC;AAH2B,GAAD,CADzB;AAAA;AAAA,MACbC,WADa;AAAA,MACDC,cADC;;AAMpBd,EAAAA,SAAS,CAAC,YAAM;AACZe,IAAAA,IAAI,CAACC,QAAL,CAAc;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAd;AACA,QAAMC,cAAc,GAAGC,MAAM,CAACN,WAAP,GAAmBM,MAAM,CAACN,WAA1B,GAAsC;AACzDJ,MAAAA,IAAI,EAACP,MAAM,GAAGQ,MAAT,CAAgB,YAAhB,CADoD;AAEzDC,MAAAA,UAAU,EAAC,IAF8C;AAGzDC,MAAAA,cAAc,EAAC;AAH0C,KAA7D;AAKA,QAAMQ,iBAAiB,GAAGP,WAAW,CAACD,cAAZ,CAA2BS,MAA3B,CAAkCF,MAAM,CAACG,cAAP,GAAsBH,MAAM,CAACG,cAA7B,GAA4C,EAA9E,CAA1B;;AACA,QAAGH,MAAM,CAACI,QAAV,EAAmB;AACfH,MAAAA,iBAAiB,CAACI,IAAlB,CAAuBL,MAAM,CAACI,QAA9B;AACH;;AACDT,IAAAA,cAAc,mBACPI,cADO;AAEVP,MAAAA,UAAU,EAACQ,MAAM,CAACR,UAAP,GAAkBQ,MAAM,CAACR,UAAzB,GAAoC,IAFrC;AAGVC,MAAAA,cAAc,EAACQ,iBAAiB,GAACA,iBAAD,GAAmB;AAHzC,OAAd;AAKH,GAhBQ,EAgBN,EAhBM,CAAT;;AAiBA,WAASK,YAAT,GAAuB;AAAA,QACXC,OADW,GACClB,KADD,CACXkB,OADW;AAEnBP,IAAAA,MAAM,CAACN,WAAP,GAAqBA,WAArB;AACAa,IAAAA,OAAO,CAACF,IAAR,CAAa;AACTG,MAAAA,QAAQ,EAAE;AADD,KAAb;AAGH,GA7BmB,CA8BnB;;;AACD,WAASC,cAAT,GAAyB;AACrBT,IAAAA,MAAM,CAACI,QAAP,GAAkB,EAAlB;AADqB,QAEbG,OAFa,GAEDlB,KAFC,CAEbkB,OAFa;AAGrBP,IAAAA,MAAM,CAACN,WAAP,GAAqBA,WAArB;AACAM,IAAAA,MAAM,CAACG,cAAP,GAAwBT,WAAW,CAACD,cAApC,CAJqB,CAKrB;;AACAc,IAAAA,OAAO,CAACF,IAAR,CAAa;AACTG,MAAAA,QAAQ,EAAE;AADD,KAAb;AAGH;;AAED,WAASE,cAAT,GAAyB;AACrB,QAAMC,YAAY,GAAG,EAArB;AACAjB,IAAAA,WAAW,CAACD,cAAZ,CAA2BmB,GAA3B,CAA+B,UAACC,CAAD,EAAK;AAChCF,MAAAA,YAAY,CAACN,IAAb,CAAmB;AACf,uBAAcQ,CAAC,CAACC,WADD;AAEf,uBAAc,EAFC;AAGf,mBAAU,EAHK;AAIf,2BAAkB,EAJH;AAKf,mBAAU,EALK;AAMf,0BAAiBD,CAAC,CAACE;AANJ,OAAnB;AAQA,aAAO,EAAP;AACH,KAVD;AAWA7B,IAAAA,OAAO,CAAC;AACJ8B,MAAAA,SAAS,EAAEtB,WAAW,CAACJ,IADnB;AAEJqB,MAAAA,YAAY,EAACM,IAAI,CAACC,SAAL,CAAeP,YAAf;AAFT,KAAD,CAAP,CAGGQ,IAHH,CAGQ,UAACC,GAAD,EAAO;AACXpB,MAAAA,MAAM,CAACO,OAAP,CAAec,EAAf,CAAkB,CAAC,CAAnB;AACH,KALD;AAMH;;AACDC,EAAAA,OAAO,CAACC,GAAR,CAAY7B,WAAW,CAACJ,IAAxB;AACA,SAAO,iCAEH,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC;AAAhB,KACI,oBAAC,UAAD;AACI,IAAA,KAAK,EAAE,IAAIkC,IAAJ,CAAS9B,WAAW,CAACJ,IAArB,CADX;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,QAAQ,EAAE,kBAAAmC,OAAO;AAAA,aAAI9B,cAAc,mBAAKD,WAAL,MAAoB;AAACJ,QAAAA,IAAI,EAACP,MAAM,CAAC0C,OAAD,CAAN,CAAgBlC,MAAhB,CAAuB,YAAvB;AAAN,OAApB,EAAlB;AAAA;AAHrB,KAKI,oBAAC,IAAD;AACI,IAAA,KAAK,EAAEG,WAAW,CAACJ;AADvB,gCALJ,CADJ,EAWI,oBAAC,IAAD;AACI,IAAA,OAAO,EAAE;AAAA,aAAIgB,YAAY,EAAhB;AAAA,KADb;AAEI,IAAA,KAAK,EAAEZ,WAAW,CAACF,UAAZ,GAAuBE,WAAW,CAACF,UAAZ,CAAuBkC,IAA9C,GAAmD;AAF9D,gCAXJ,EAgBI,oBAAC,IAAD;AACI,IAAA,OAAO,EAAE;AAAA,aAAIjB,cAAc,EAAlB;AAAA;AADb,gCAhBJ,CAFG,EAyBCf,WAAW,CAACD,cAAZ,CAA2BmB,GAA3B,CAA+B,UAACC,CAAD,EAAGc,CAAH,EAAO;AAClC,WAAO;AAAK,MAAA,GAAG,EAAEA;AAAV,OACFd,CAAC,CAACe,aAAF,GAAgBf,CAAC,CAACe,aAAlB,GAAgC,EAD9B,CAAP;AAGH,GAJD,CAzBD,EAiCH;AAAG,IAAA,OAAO,EAAE;AAAA,aAAIlB,cAAc,EAAlB;AAAA,KAAZ;AAAkC,IAAA,KAAK,EAAC;AAAxC,oBAjCG,CAAP;AAmCH;;AAED,eAAetB,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n// import * as css from './index.module.css';\r\nimport moment from 'moment'\r\nimport { List, DatePicker } from 'antd-mobile';\r\nimport {addPlan} from './../../servers/comp'\r\nconst Item = List.Item;\r\nfunction AddPlan(props) {\r\n    const [addPlanData,setAddPlanData] = useState({\r\n        date:moment().format('YYYY-MM-DD'),\r\n        chooseUser:null,\r\n        chooseCustomer:[]\r\n    })\r\n    useEffect(() => {\r\n        HWH5.navTitle({ title: '制定计划' });\r\n        const newaddPlanData = window.addPlanData?window.addPlanData:{\r\n            date:moment().format('YYYY-MM-DD'),\r\n            chooseUser:null,\r\n            chooseCustomer:[]\r\n        };\r\n        const chooseCustomerNew = addPlanData.chooseCustomer.concat(window.planCheckedCus?window.planCheckedCus:[]);\r\n        if(window.visitObj){\r\n            chooseCustomerNew.push(window.visitObj);\r\n        }\r\n        setAddPlanData({\r\n            ...newaddPlanData,\r\n            chooseUser:window.chooseUser?window.chooseUser:null,\r\n            chooseCustomer:chooseCustomerNew?chooseCustomerNew:[]\r\n        })\r\n    }, [])\r\n    function ToChooseUser(){\r\n        const { history } = props;\r\n        window.addPlanData = addPlanData;\r\n        history.push({\r\n            pathname: '/chooseUser/',\r\n        })\r\n    }\r\n     // 跳转选客户\r\n    function selectCustomer(){\r\n        window.visitObj = {};\r\n        const { history } = props;\r\n        window.addPlanData = addPlanData;\r\n        window.planCheckedCus = addPlanData.chooseCustomer\r\n        //跳转内部页面并传值\r\n        history.push({\r\n            pathname: '/selectCustomer/',\r\n        })\r\n    }\r\n\r\n    function addPlanRequest(){\r\n        const planDescInfo = [];\r\n        addPlanData.chooseCustomer.map((e)=>{\r\n            planDescInfo.push( {\r\n                \"customer_id\":e.customer_id,\r\n                \"target_desc\":\"\",\r\n                \"item_id\":\"\",\r\n                \"related_userids\":\"\",\r\n                \"plan_id\":\"\",\r\n                \"cs_location_id\":e.cs_location_id\r\n            });\r\n            return '';\r\n        })\r\n        addPlan({\r\n            plan_date: addPlanData.date,\r\n            planDescInfo:JSON.stringify(planDescInfo)\r\n        }).then((res)=>{\r\n            window.history.go(-1);\r\n        })\r\n    }\r\n    console.log(addPlanData.date);\r\n    return <div>\r\n\r\n        <List className=\"my-list\">\r\n            <DatePicker\r\n                value={new Date(addPlanData.date)}\r\n                mode=\"date\"\r\n                onChange={dateStr => setAddPlanData({...addPlanData,...{date:moment(dateStr).format('YYYY-MM-DD')}})}\r\n            >\r\n                <Item\r\n                    extra={addPlanData.date}>\r\n                    出勤日期\r\n                </Item>\r\n            </DatePicker>\r\n            <Item\r\n                onClick={()=>ToChooseUser()}\r\n                extra={addPlanData.chooseUser?addPlanData.chooseUser.name:''}>\r\n                选择人员\r\n            </Item>\r\n            <Item\r\n                onClick={()=>selectCustomer()}\r\n                >\r\n                出勤对象\r\n            </Item>\r\n        </List>\r\n        {\r\n            addPlanData.chooseCustomer.map((e,i)=>{\r\n                return <div key={i}>\r\n                    {e.customer_name?e.customer_name:''}\r\n                </div>\r\n            })\r\n        }\r\n\r\n\r\n        <a onClick={()=>addPlanRequest()} class=\"weui-btn weui-btn_primary\">确定</a>\r\n    </div>\r\n}\r\n\r\nexport default AddPlan"]}]}