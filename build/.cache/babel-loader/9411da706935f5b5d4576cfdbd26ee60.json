{"remainingRequest":"c:\\Users\\Administrator\\AppData\\Local\\Programs\\We码开发者工具\\resources\\app\\extensions\\wecode.wecode\\resources\\sdk\\node_modules.asar\\babel-loader\\lib\\index.js??ref--5-1!c:\\Users\\Administrator\\AppData\\Local\\Programs\\We码开发者工具\\resources\\app\\extensions\\wecode.wecode\\resources\\sdk\\node_modules.asar\\cache-loader\\dist\\cjs.js??ref--4-0!C:\\Users\\Administrator\\AppData\\Roaming\\WeCode-IDE\\wecode-eslint-config\\node_modules\\eslint-loader\\dist\\cjs.js??ref--4-1!c:\\Users\\Administrator\\Desktop\\模板\\模板\\src\\App.js","dependencies":[{"path":"c:\\Users\\Administrator\\Desktop\\模板\\模板\\src\\App.js","mtime":1595753513238},{"path":"c:\\Users\\Administrator\\AppData\\Local\\Programs\\We码开发者工具\\resources\\app\\extensions\\wecode.wecode\\resources\\sdk\\node_modules.asar\\cache-loader\\dist\\cjs.js","mtime":1595838103392},{"path":"c:\\Users\\Administrator\\AppData\\Local\\Programs\\We码开发者工具\\resources\\app\\extensions\\wecode.wecode\\resources\\sdk\\node_modules.asar\\babel-loader\\lib\\index.js","mtime":1595838103392},{"path":"c:\\Users\\Administrator\\AppData\\Local\\Programs\\We码开发者工具\\resources\\app\\extensions\\wecode.wecode\\resources\\sdk\\node_modules.asar\\cache-loader\\dist\\cjs.js","mtime":1595838103392},{"path":"C:\\Users\\Administrator\\AppData\\Roaming\\WeCode-IDE\\wecode-eslint-config\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":1593236802109}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgovLyDor7fli7/kv67mlLnmraTmlofku7YKaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVkdWNlciwgdXNlU3RhdGUgfSBmcm9tICJyZWFjdCI7CmltcG9ydCBjcmVhdGVIaXN0b3J5IGZyb20gImhpc3RvcnkvY3JlYXRlSGFzaEhpc3RvcnkiOwppbXBvcnQgcmVkdWNlciwgeyBpbml0aWFsU3RhdGUgfSBmcm9tICcuL3JlZHVjZXJzL2dsb2JhbCc7Ci8qCiDlhajlsYDlr7zlhaVsZXNzCiAqLwoKaW1wb3J0ICIuL2FwcC5jc3MiOwppbXBvcnQgJ2FudGQtbW9iaWxlL2Rpc3QvYW50ZC1tb2JpbGUuY3NzJzsgLy8gb3IgJ2FudGQtbW9iaWxlL2Rpc3QvYW50ZC1tb2JpbGUubGVzcycKCmltcG9ydCB7IGdldFVzZXJEYXRhLCBHTE9CQUxfVVNFUl9EQVRBIH0gZnJvbSAiLi9hY3Rpb25zL2dsb2JhbCI7CmltcG9ydCByb3V0ZXMgZnJvbSAiLi9yb3V0ZXMiOwppbXBvcnQgQXBwQ29udGV4dCBmcm9tICcuL0FwcENvbnRleHQnOwppbXBvcnQgUmVxdWVzdCBmcm9tICcuL3V0aWxzL3JlcXVlc3QnOwppbXBvcnQgeyB2ZXJpZnkgfSBmcm9tICcuL3NlcnZlcnMvaW5kZXgnOwoKdmFyIF9yZXF1aXJlID0gcmVxdWlyZSgicmVhY3Qtcm91dGVyLWRvbSIpLAogICAgUm91dGUgPSBfcmVxdWlyZS5Sb3V0ZSwKICAgIFJvdXRlciA9IF9yZXF1aXJlLlJvdXRlcjsKCnZhciBoaXN0b3J5ID0gY3JlYXRlSGlzdG9yeSgpOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHAoKSB7CiAgdmFyIF91c2VSZWR1Y2VyID0gdXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsU3RhdGUpLAogICAgICBfdXNlUmVkdWNlcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlUmVkdWNlciwgMiksCiAgICAgIHN0YXRlID0gX3VzZVJlZHVjZXIyWzBdLAogICAgICBkaXNwYXRjaCA9IF91c2VSZWR1Y2VyMlsxXTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGlzSGFzVG9rZW4gPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRIYXNUb2tlbiA9IF91c2VTdGF0ZTJbMV07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBIV0g1LmNsZWFyU3RvcmFnZSgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHt9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coJ+a4heeQhuacrOWcsEg157yT5a2YICAgICcsIGVycm9yKTsKICAgIH0pOwogICAgSFdINS5zaG93TG9hZGluZygpOwogICAgSFdINS5nZXRBdXRoQ29kZSgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgLy8g6I635Y+WdG9rZW4KICAgICAgUmVxdWVzdCgnd2VsaW5rLmRvP2dldFRva2VuJywgewogICAgICAgIGNvZGU6IGRhdGEuY29kZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyDnvJPlrZh0b2tlbgogICAgICAgIEhXSDUuc2V0U3RvcmFnZSh7CiAgICAgICAgICBrZXk6ICd0b2tlbicsCiAgICAgICAgICBkYXRhOiByZXMuZGF0YSwKICAgICAgICAgIGlzb2xhdGlvbjogMQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coJ+iuvue9rue8k+WtmOW8guW4uCcsIGVycm9yKTsKICAgICAgICB9KTsgLy8g57yT5a2YIHRva2Vu6L+H5pyf5pe26Ze0CiAgICAgICAgLy8gSFdINS5zZXRTdG9yYWdlKHsKICAgICAgICAvLyAgIGtleTogJ3Rva2VuRXhwaXJhdGlvbicsCiAgICAgICAgLy8gICBkYXRhOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICAvLyAgIGlzb2xhdGlvbjogMQogICAgICAgIC8vIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCforr7nva7nvJPlrZjlvILluLgnLCBlcnJvcik7CiAgICAgICAgLy8gfSkKICAgICAgICAvLyDljY7kuLrnmoQg5Yig6Zmk57yT5a2Y5pa55rOV5pyJ6Zeu6aKYIOWFiOeUqHdpbmRvdyDlj5jph4/kv53lrZgKCiAgICAgICAgd2luZG93LnRva2VuRXhwaXJhdGlvbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgIHdpbmRvdy50b2tlbiA9IHJlcy5kYXRhOwogICAgICAgIEhXSDUuaGlkZUxvYWRpbmcoKTsKICAgICAgICB2ZXJpZnkoe30pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgd2luZG93LnVzZXJJZCA9IHJlcy5kYXRhLnVzZXJfaWQ7CiAgICAgICAgICBIV0g1LnNldFN0b3JhZ2UoewogICAgICAgICAgICBrZXk6ICd1c2VySWQnLAogICAgICAgICAgICBkYXRhOiByZXMuZGF0YS51c2VyX2lkLAogICAgICAgICAgICBpc29sYXRpb246IDEKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZygn6K6+572u57yT5a2Y5byC5bi4JywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgICBzZXRIYXNUb2tlbih0cnVlKTsKICAgICAgICAgIEhXSDUuaGlkZUxvYWRpbmcoKTsKICAgICAgICB9KTsKICAgICAgICBSZXF1ZXN0KCdjb21wL3VzZXIuZG8/cGFyYW0nLCB7fSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBIV0g1LnNldFN0b3JhZ2UoewogICAgICAgICAgICBrZXk6ICdoZWFkUGhvdG9QYXRoJywKICAgICAgICAgICAgZGF0YTogcmVzLmRhdGEuaGVhZF9waG90b19wYXRoLAogICAgICAgICAgICBpc29sYXRpb246IDEKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZygn6K6+572u57yT5a2Y5byC5bi4JywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgICB2YXIgaWdub3JlID0gZmFsc2U7IC8vIOWNlemhtemdouS4gOW8gOWni++8jOWPr+WcqOi/memHjOa3u+WKoOWFqOWxgOS/oeaBr++8jOWmgueUqOaIt+etieetieOAggoKICAgIGdldFVzZXJEYXRhKCkudGhlbihmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICBpZiAoIWlnbm9yZSkgewogICAgICAgIGRpc3BhdGNoKHsKICAgICAgICAgIHR5cGU6IEdMT0JBTF9VU0VSX0RBVEEsCiAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOyAvLyBjb25zb2xlLmxvZygi55uR5ZCs6aG16Z2i6L+U5Zue5LqL5Lu2Iik7CgogICAgdmFyIGJhY2tGdW5jdGlvbiA9IGZ1bmN0aW9uIGJhY2tGdW5jdGlvbigpIHsKICAgICAgLy8g55uR5ZCs6aG16Z2i6L+U5Zue5LqL5Lu277yMcmV0dXJuIHRydWXnm7TmjqXov5Tlm57vvIxyZXR1cm4gZmFsc2XvvIzmi5Lnu53ov5Tlm57jgILlj6rmlK/mjIHlronljZMKICAgICAgdmFyIGZsYWcgPSB0cnVlOwogICAgICByZXR1cm4gZmxhZzsKICAgIH07CgogICAgd2luZG93LkhXSDUuYWRkRXZlbnRMaXN0ZW5lcih7CiAgICAgIHR5cGU6ICJiYWNrIiwKICAgICAgZnVuYzogYmFja0Z1bmN0aW9uCiAgICB9KTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIOe7hOS7tumUgOavgeS6i+S7tgogICAgICBpZ25vcmUgPSB0cnVlOwogICAgICB3aW5kb3cuSFdINS5yZW1vdmVFdmVudExpc3RlbmVyKHsKICAgICAgICB0eXBlOiAnYmFjaycsCiAgICAgICAgZnVuYzogYmFja0Z1bmN0aW9uCiAgICAgIH0pOwogICAgfTsKICB9LCBbXSk7IC8vIOetieW+heWFqOWxgHN0YXR1c+WkhOeQhuWlve+8jOWGjea4suafk+OAgu+8iOWPr+agueaNrumcgOimgeS/ruWkje+8iQoKICBpZiAoc3RhdGUudXNlckluZm8gPT09IG51bGwpIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwQ29udGV4dC5Qcm92aWRlciwgewogICAgdmFsdWU6IFtzdGF0ZSwgZGlzcGF0Y2hdCiAgfSwgaXNIYXNUb2tlbiA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGVyLCB7CiAgICBoaXN0b3J5OiBoaXN0b3J5CiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgewogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHJldHVybiByb3V0ZXMubWFwKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgICAgIHZhciBwYXRoID0gcm91dGUucGF0aCwKICAgICAgICAgICAgbG9jYXRpb24gPSByb3V0ZS5sb2NhdGlvbiwKICAgICAgICAgICAgX3JvdXRlJGV4YWN0ID0gcm91dGUuZXhhY3QsCiAgICAgICAgICAgIGV4YWN0ID0gX3JvdXRlJGV4YWN0ID09PSB2b2lkIDAgPyB0cnVlIDogX3JvdXRlJGV4YWN0LAogICAgICAgICAgICBDID0gcm91dGUuY29tcG9uZW50OwogICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7CiAgICAgICAgICBrZXk6IHBhdGgsCiAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sCiAgICAgICAgICBwYXRoOiBwYXRoLAogICAgICAgICAgZXhhY3Q6IGV4YWN0LAogICAgICAgICAgY29tcG9uZW50OiBDCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0pKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsKSk7Cn0="},{"version":3,"sources":["c:\\Users\\Administrator\\Desktop\\模板\\模板\\src\\App.js"],"names":["React","useEffect","useReducer","useState","createHistory","reducer","initialState","getUserData","GLOBAL_USER_DATA","routes","AppContext","Request","verify","require","Route","Router","history","App","state","dispatch","isHasToken","setHasToken","HWH5","clearStorage","then","data","catch","error","console","log","showLoading","getAuthCode","code","res","setStorage","key","isolation","window","tokenExpiration","Date","getTime","token","hideLoading","userId","user_id","head_photo_path","ignore","payload","type","backFunction","flag","addEventListener","func","removeEventListener","userInfo","map","route","path","location","exact","C","component"],"mappings":"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","sourcesContent":["// 请勿修改此文件\nimport React, { useEffect, useReducer, useState } from \"react\";\nimport createHistory from \"history/createHashHistory\";\nimport reducer, { initialState } from './reducers/global';\n/*\n 全局导入less\n */\nimport \"./app.css\";\nimport 'antd-mobile/dist/antd-mobile.css';  // or 'antd-mobile/dist/antd-mobile.less'\nimport { getUserData, GLOBAL_USER_DATA } from \"./actions/global\";\nimport routes from \"./routes\";\nimport AppContext from './AppContext';\nimport Request from './utils/request'\nimport {verify} from './servers/index'\nconst { Route, Router } = require(\"react-router-dom\");\nconst history = createHistory();\n\n\nexport default function App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [isHasToken,setHasToken] = useState(false);\n  \n  useEffect(() => {\n    HWH5.clearStorage().then((data) => {\n      \n    }).catch((error) => {\n      console.log('清理本地H5缓存    ', error);\n    });\n    HWH5.showLoading();\n    HWH5.getAuthCode().then(data => {\n      // 获取token\n      Request('welink.do?getToken', {\n        code: data.code\n      }).then((res) => {\n        // 缓存token\n        HWH5.setStorage({\n          key: 'token',\n          data: res.data,\n          isolation: 1\n        }).catch(error => {\n          console.log('设置缓存异常', error);\n        })\n        // 缓存 token过期时间\n        // HWH5.setStorage({\n        //   key: 'tokenExpiration',\n        //   data: new Date().getTime(),\n        //   isolation: 1\n        // }).catch(error => {\n        //   console.log('设置缓存异常', error);\n        // })\n        // 华为的 删除缓存方法有问题 先用window 变量保存\n        window.tokenExpiration = new Date().getTime();\n        window.token = res.data;\n        HWH5.hideLoading();\n        verify({}).then((res)=>{\n          window.userId = res.data.user_id;\n          HWH5.setStorage({\n            key: 'userId',\n            data: res.data.user_id,\n            isolation: 1\n          }).catch(error => {\n            console.log('设置缓存异常', error);\n          })\n          setHasToken(true);\n          HWH5.hideLoading();\n        });\n        Request('comp/user.do?param', {\n        }).then((res) => {\n          HWH5.setStorage({\n            key: 'headPhotoPath',\n            data: res.data.head_photo_path,\n            isolation: 1\n          }).catch(error => {\n            console.log('设置缓存异常', error);\n          })\n        });\n      });\n    })\n    let ignore = false;\n    // 单页面一开始，可在这里添加全局信息，如用户等等。\n    getUserData().then((payload)=> {\n      if (!ignore) {\n        dispatch({ type: GLOBAL_USER_DATA, payload});\n      }\n    });\n\n    // console.log(\"监听页面返回事件\");\n    const backFunction = () => {\n      // 监听页面返回事件，return true直接返回，return false，拒绝返回。只支持安卓\n      const flag = true;\n      return flag;\n    }\n    window.HWH5.addEventListener({\n      type: \"back\",\n      func: backFunction\n    });\n\n    return ()=> {\n      // 组件销毁事件\n      ignore = true;\n      window.HWH5.removeEventListener({ type: 'back', func: backFunction });\n    };\n  }, []);\n  // 等待全局status处理好，再渲染。（可根据需要修复）\n  if (state.userInfo === null) {\n    return null;\n  }\n  return (\n    <AppContext.Provider value={[state, dispatch]}>\n      {\n        isHasToken?<Router history={history}>\n        <Route\n          render={() =>\n            routes.map(route => {\n              const { path, location, exact = true, component: C } = route;\n              return (\n                <Route\n                  key={path}\n                  location={location}\n                  path={path}\n                  exact={exact}\n                  component={C}\n                />\n              );\n            })\n          }\n        />\n      </Router>:<span></span>\n      }\n      \n    </AppContext.Provider>\n  );\n}\n"]}]}